<!DOCTYPE html>
<html lang="ko">
  <body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js."></script>
    <script type="text/babel">
      const rootElement = document.getElementById("root");
      const App = () => {   
        const [message, setMessage] = React.useState("");//message와 phoneNumber의 상태를 관리하고 있다.
        const [phoneNumber, setPhoneNumber] = React.useState("");

        const handleSubmit = (event) => {
          event.preventDefault();
          alert(phoneNumber);
        };

        const handleChange = (event) => {
          if(event.target.value.starsWith(0)) {
            setMessage('Phone Number is valid');
            //set이 적용되는 것이 시간차이가 남으로, set을 마지막에 적용해 준다.
            setPhoneNumber(event.target.value);//0으로 시작되는 것들만 입력이 된다.
          }else if(event.target.value.length === 0){
            setPhoneNumber("");
            setMessage("");  
          }else{
            setMessage("");
            setMessage('Phone Number should starts with 0');
          }
        };

        return (
        <form onsubmit={handSubmit}>
          <label htmlFor="phone">Phone Number: </label>
          <br />
          <input id="phone" name="phone" onChange={handleChange} value={phoneNumber}/>
          <p>{message}</p>
          <br />
          <br />
          <button 
            type="submit" 
            disabled={
              phoneNumber.length === 0 || message !== "Phone Number is valid" 
            }
            >
            Submoit</button>
            <p>{phoneNumber}</p>
        </form> 
        )
      };

      ReactDOM.render(<App />, rootElement);
    </script>
  </body>
</html>vv